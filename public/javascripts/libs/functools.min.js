var functools=function(h){function w(d){var a=[],b;for(b in d)a.push(b);return a}function p(){var d=g.call(arguments);return function(a){return n(function(a,c){return function(d){return c(a(d))}},d)(a)}}function q(){var d=1<arguments.length||"object"!=typeof arguments[0]?g.call(arguments):arguments[0];return function(){var a=arguments;return l(function(b){return b.apply(h,a)},d)}}function r(d,a){var b,c;b=-1;for(c=a.length;++b<c;)d(a[b],b,a);return a}function s(d,a){for(var b=[],c=-1,e=a.length;++c<
e;)d(a[c],c,a)&&b.push(a[c]);return b}function l(d,a){var b,c,e;if("[object Array]"==Object.prototype.toString.call(a)){b=g.call(a,0);c=-1;for(e=b.length;++c<e;)b[c]=d(b[c],c,b)}else if("object"==typeof a)for(c in b={},a)b[c]=d(a[c],c,b);return b}function t(d,a){var b={};!a&&(a=function(a){return a});return function(){var c=a.apply(h,arguments);return b.hasOwnProperty(c)?b[c]:b[c]=d.apply(h,arguments)}}function k(d,a,b){!a&&(a=[]);return function(){var c=g.call(a,0);Array.prototype.push.apply(c,arguments);
return d.apply(b,c)}}function n(d,a){for(var b=a[0],c=0,e=a.length;++c<e;)b=d(b,a[c],a);return b}var g=Array.prototype.slice;p.async=function(){var d=g.call(arguments);return function(a,b){(function(a,e,f){if(e||d.length<=a)b(e,f);else d[a](f,k(arguments.callee,[a+1]))})(0,h,a)}};q.async=function(){var d=1<arguments.length||"object"!=typeof arguments[0]?g.call(arguments):arguments[0];return function(){var a=g.call(arguments,0,arguments.length-1);l.async(function(b,c){b.apply(h,a.concat([c]))},d,arguments[arguments.length-
1])}};r.async=function(d,a,b){(function e(f,h){h||f>=a.length?b&&b(h):d(a[f],k(e,[f+1]))})(0)};s.async=function(d,a,b){var c=[];(function(e,f){f&&c.push(a[e-1]);e>=a.length?b(c):d(a[e],k(arguments.callee,[e+1]))})(0)};l.async=function(d,a,b){var c,e,f,u,m="[object Array]"==Object.prototype.toString.call(a);e=m?g.call(a):w(a);c=m?e:{};(function x(g,v,k){f=m?g-1:e[g-1];u=m?c[g]:a[e[g]];2<arguments.length&&(c[f]=k);v||g>=e.length?b(v,c):d(u,x.bind(h,g+1))})(0)};t.async=function(d,a){var b={},c={};!a&&
(a=function(a){return a});return function(){var e=g.call(arguments),f=a.apply(h,e),k=e.pop();f in b?k.apply(h,b[f]):f in c?c[f].push(k):(c[f]=[k],e.push(function(a){var d=arguments;!a&&(b[f]=d);(function y(a){if(a>=c[f].length)delete c[f];else{var b=c[f][a];setTimeout(function(){b.apply(h,d)},0);y(a+1)}})(0)}),d.apply(h,e))}};n.async=function(d,a,b){(function(c,e,f){e||c>=a.length?b(e,f):d(f,a[c],k(arguments.callee,[c+1]))})(1,h,a[0])};return{compose:p,curry:function(d){var a=g.call(arguments,1),
b=d.length;return function(){Array.prototype.push.apply(a,arguments);return a.length>=b&&d.apply(null,a)||arguments.callee}()},each:r,filter:s,juxt:q,map:l,memoize:t,partial:k,reduce:n}}();"undefined"!=typeof module&&module.exports&&(module.exports=functools);define([],function(){return functools});
