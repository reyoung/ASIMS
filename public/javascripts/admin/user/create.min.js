require(["admin/active","field_checker","isEmail"],function(f,b,g){f("nav_user_list");$(function(){b.def("LoginName Password PasswordRepeat Email UserNumber Telephone".split(" "));$("form").submit(function(){function d(a){$.ajaxSetup({type:"GET",async:!1});a="http://"+location.host+"/admin/User/"+a;return $.ajax({url:a}).responseText}function e(a){a:{for(var b=0;b<a.length;++b)if(isNaN(parseInt(a[b],10))){a=!1;break a}a=!0}return a?!0:"请输入正确的电话号码"}var c=b.chk("LoginName",function(a){return 0==a.length?
"登录名称不能为空":255<a.length?"登录名称不能长于255字符":!IsEdit&&JSON.parse(d("byName/"+a))?"该登录名称已经存在":!0});return c=(c=(c=(c=(c=(c=c&&b.chk("Password",function(a){return!IsEdit&&0==a.length?"密码不能为空":255<a.length?"密码不能超过255字符":!0}))&&b.chk("PasswordRepeat",function(a){return a!==$("#Password").val()?"两次输入的密码不一致":!0}))&&b.chk("Email",function(a){return g(a)?!IsEdit&&JSON.parse(d("byEmail/"+a))?"该邮箱已经存在":!0:"请输入正确格式的Email地址"}))&&b.chk("UserNumber",function(a){return 0===a.length?"工号不能为空":!IsEdit&&JSON.parse(d("byNumber/"+
a))?"该工号已经存在":!0}))&&b.chk("Telephone",e))&&b.chk("Mobile",e)})})});
