require(["admin/active","field_checker"],function(b,a){$(function(){b("nav_role_create");0!=$("#Privilege").val().length&&(curPrivilege=$("#Privilege").val(),$("input[type='checkbox']").each(function(){pid=$(this).attr("p-id");prw=$(this).attr("p-rw");flag=0;flag="r"==prw?1:2;flag<<=2*pid;0!=(curPrivilege&flag)&&$(this).attr("checked","checked")}));a.def(["Name"]);$("form").submit(function(){if(!a.chk("Name",function(a){return 0!=a.length?!0:"角色名称不能为空"}))return!1;(function(){privilege=0;$("input[type='checkbox']").each(function(){pid=
$(this).attr("p-id");prw=$(this).attr("p-rw");"checked"==$(this).attr("checked")&&(flag=0,flag="r"==prw?1:2,flag<<=2*pid,privilege|=flag)});$("#Privilege").val(privilege)})();return!0})})});
